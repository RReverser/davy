!function(e){"use strict";function t(e){this.value=e,this.deferreds=[]}function i(e,i,s){o(function(){var o,r=e[i],f=e.promise;if("function"==typeof r){try{o=r(s)}catch(n){return f.reject(n),void 0}t.isPromise(o)?o.then(function(e){f.fulfill(e)},function(e){f.reject(e)}):f[i](o)}else f[i](s)})}function s(e,t,i){return{promise:e,fulfill:t,reject:i}}if("function"==typeof define&&define.amd)define(t);else if("object"==typeof module&&module.exports){module.exports=t;var o=require("subsequent")}else{e.Troth=e.Promise=t;var o=e.nextTick}t.SUCCESS="fulfill",t.FAILURE="reject",t.isPromise=function(e){return e&&"function"==typeof e.then},t.prototype.isFulfilled=!1,t.prototype.isRejected=!1,t.prototype.then=function(e,o){var r=new t,f=s(r,e,o);return this.isFulfilled||this.isRejected?i(f,this.isFulfilled?t.SUCCESS:t.FAILURE,this.value):this.deferreds.push(f),r},t.prototype.fulfill=function(e){this.isFulfilled||this.isRejected||(this.isFulfilled=!0,this.complete(t.SUCCESS,e))},t.prototype.reject=function(e){this.isFulfilled||this.isRejected||(this.isRejected=!0,this.complete(t.FAILURE,e))},t.prototype.complete=function(e,t){this.value=t;for(var s=0;s<this.deferreds.length;++s)i(this.deferreds[s],e,t);this.deferreds=void 0}}(this);
//# sourceMappingURL=troth.min.js.map